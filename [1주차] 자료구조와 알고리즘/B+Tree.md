# ✍️ 작성자
<!-- 이름을 작성하세요 -->
한지성

---

# ❓ 질문
<!-- 면접 질문을 작성하세요 -->
B-트리와 B+트리에 대해 설명해주세요

---

# 💬 답변 요약
<!-- 질문에 대한 간단한 답변을 적어주세요 -->
B-트리(비 트리)와 B+트리(비 플러스 트리)는 모두 Balanced Tree(균형 트리)의 일종으로 데이터가 디스크에 저장되는 환경에서 효율적인 검색을 위해 사용됩니다.  
B-트리는 디스크 접근 횟수를 최소화하기 위해 고안된 균형 트리로 내부 노드와 리프 노드 모두에 데이터를 저장하고, \
B+트리는 B-트리의 변형으로 데이터를 리프 노드에만 저장하며 리프 간 연결 구조를 통해 범위 검색에 강점을 가집니다. \
현재 MySQL의 InnoDB 스토리지 엔진은 B+ Tree를 주로 사용되고 있습니다.

---

# 🧠 핵심 키워드
<!-- 답변을 위해 필요한 핵심 키워드를 적어주세요 -->
- Balanced Tree
- B-Tree
- B+Tree
- 데이터베이스 인덱스
- InnoDB 스토리지 엔진

---

# 🔥 상세 설명
<!-- 답변을 위해 필요한 CS 개념, 원리, 예시 등을 자세히 정리하세요 -->

### 균형 트리 (Balanced Tree)
- 각 노드의 왼쪽과 오른쪽 서브트리 높이 차이가 1 이하인 트리 또는 리프 노드들이 동일 깊이인 구조
- 탐색, 삽입, 삭제가 모두 O(logn)
- 대표적으로 AVL Tree, Red‑Black Tree, B-Tree 있음

### B-트리 (B-Tree)
- 하나의 노드 당 2개 이상의 자식을 가질 수 있는 자체 균형 트리구조
- 하나의 노드가 여러 데이터를 가질 수 있음
- 외부검색에 효율적인 검색구조로 DB 시스템에서 많이 사용됨

### B+트리 (B+ Tree)
- B-트리의 변형으로, 모든 데이터를 리프 노드에만 저장
- 리프 노드 간 연결 구조(연결 리스트)를 통해 범위 검색에 강점을 가짐
- B-트리보다 범위 검색이 빠르고 효율적
- MySQL의 InnoDB 스토리지 엔진에서 주로 사용됨

### B-Tree vs B+Tree

| 항목            | B-Tree                                                                 | B+Tree                                                                                  |
|-----------------|------------------------------------------------------------------------|------------------------------------------------------------------------------------------|
| 검색 방법        | 모든 노드(internal + leaf)에 키와 값 저장<br>→ 리프까지 가지 않아도 검색 가능 | internal 노드에는 키만, 리프 노드에 키와 값 저장<br>→ 항상 리프까지 이동, 검색 경로 단순 |
| 포인터의 사용      | 리프 노드 간 연결 없음<br>→ 형제 노드 직접 접근 불가                     | 리프 노드가 연결 리스트로 연결됨<br>→ 형제 노드 간 직접 이동 가능                        |
| 범위 검색        | 루트부터 리프까지 탐색 + 중간 노드의 데이터도 함께 조회                   | 리프 노드부터 연결 리스트 순회만으로 가능<br>→ 범위 검색에 최적화                         |
| 순차 탐색 및 정렬 | 중위 순회 등 추가 알고리즘 필요<br>→ 구현 복잡                           | 연결 리스트 순회로 간단히 가능<br>→ 항상 정렬된 상태 유지                                |
| 메모리 사용     | internal/leaf 노드 모두 데이터와 포인터 포함<br>→ 메모리 소모 많음         | internal 노드는 키만, 리프에만 데이터 저장<br>→ 메모리 효율적                             |

### B+트리의 장점
- 더 단순한 검색 경로
- 범위 검색과 순차 탐색에 최적화
- 메모리 사용 효율적
- 정렬 유지가 쉬움
- 디스크 기반 시스템에서 더 빠른 성능 제공

### B+Tree가 데이터베이스 인덱스로 더 좋은 이유
- 리프 노드에만 데이터를 저장하고, internal 노드에는 키만 저장하므로 **한정된 메모리에 더 많은 키 저장 가능**  
  → 트리의 **fan-out이 커지고**, **트리 높이가 낮아짐**

- 더 많은 키를 담은 노드는 **캐시 히트 확률 증가**,  
  → **디스크 I/O 감소**, 특히 느린 **보조기억장치 접근 횟수 감소**

- **테이블 풀 스캔** 시 차이점:
    - **B-Tree**: 데이터가 내부 + 리프 노드에 흩어져 있어 전체 노드를 탐색해야 함.
    - **B+Tree**: 모든 데이터가 리프에 있어 **선형 탐색 한 번이면 전체 데이터 조회 가능 → 매우 빠름**

---

# 🔗 참고 자료
<!-- 질문과 답변을 준비할 때 참고한 자료, 링크 등을 남겨주세요 -->
- [[자료구조] B+Tree: 개념, 특징, B-Tree와의 차이점 정리 (블로그)](https://engineerinsight.tistory.com/336)
- [GeeksforGeeks - Difference between B-tree and B+ tree](https://www.geeksforgeeks.org/difference-between-b-tree-and-b-tree/)
