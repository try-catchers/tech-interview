# βοΈ μ‘μ„±μ
κΉ€μ§€μ

---

# β“ μ§λ¬Έ
λ΅λ“ λ°Έλ°μ‹±μ΄ λ¬΄μ—‡μ΄κ³ , μ–΄λ–»κ² λ™μ‘ν•λ”μ§€ μ„¤λ…ν•΄μ£Όμ„Έμ”.

---

# π’¬ λ‹µλ³€ μ”μ•½ 
λ΅λ“ λ°Έλ°μ‹±μ€ ν•λ‚μ μ„λ²„μ— μ§‘μ¤‘λλ” νΈλν”½μ„ μ—¬λ¬ μ„λ²„λ΅ λ¶„μ‚°μ‹μΌ μ‹μ¤ν…μ λ¶€ν•λ¥Ό κ³ λ¥΄κ² λ‚λ„λ” κΈ°μ μ΄λ‹¤.  
ν΄λΌμ΄μ–ΈνΈκ°€ λ΅λ“ λ°Έλ°μ„μ κ³µμΈ IPλ΅ μ”μ²­μ„ λ³΄λ‚΄λ©΄, λ΅λ“ λ°Έλ°μ„λ” μ‚¬μ„¤ λ„¤νΈμ›ν¬μ μ—¬λ¬ μ›Ή μ„λ²„λ΅ μ”μ²­μ„ λ¶„μ‚°ν•μ—¬ μ²λ¦¬ν•λ‹¤.  
μ΄λ• μ”μ²­μ„ μ²λ¦¬ν•  μ„λ²„λ¥Ό μ„ νƒν•κΈ° μ„ν•΄ λ‹¤μ–‘ν• μ•κ³ λ¦¬μ¦μ΄ μ‚¬μ©λλ‹¤.

---

# π§  ν•µμ‹¬ ν‚¤μ›λ“
λ΅λ“ λ°Έλ°μ‹±, μ¤μΌ€μΌ μ•„μ›ƒ, νΈλν”½ λ¶„μ‚°, κ°€μ©μ„±, μ¥μ•  λ³µκµ¬, λ΅λ“ λ°Έλ°μ‹± μ•κ³ λ¦¬μ¦, κ³µμΈ/μ‚¬μ„¤ IP

---

# π”¥ μƒμ„Έ μ„¤λ…

## β™οΈ λ΅λ“ λ°Έλ°μ‹±μ κ°λ…
λ΅λ“ λ°Έλ°μ‹±μ€ κ³Όλ„ν• νΈλν”½μ΄λ‚ μ”μ²­μ΄ ν• μ„λ²„μ— μ§‘μ¤‘λμ§€ μ•λ„λ΅ `λ¶€ν•λ¥Ό μ—¬λ¬ μ„λ²„μ— λ‚λ„λ” κΈ°μ `μ΄λ‹¤.  
λ΅λ“ λ°Έλ°μ‹±μ„ ν†µν•΄ μ–»μ„ μ μλ” μ΄μ μ€ λ‹¤μκ³Ό κ°™λ‹¤:  
- `κ³ κ°€μ©μ„±`  
  μ›Ή μ„λ²„ μ¤‘ ν•λ‚κ°€ λ‹¤μ΄λλ©΄, λ΅λ“ λ°Έλ°μ„λ” ν•΄λ‹Ή μ„λ²„λ΅μ μ”μ²­μ„ μ¤‘λ‹¨ν•κ³  μ •μƒ μ„λ²„λ΅ νΈλν”½μ„ λ¶„μ‚°ν•λ‹¤.  
  μ΄λ΅ μΈν•΄ μ›Ή κ³„μΈµ μ „μ²΄μ μ¤‘λ‹¨μ„ λ°©μ§€ν•κ³  κ°€μ©μ„±μ„ ν™•λ³΄ν•  μ μλ‹¤.
- `ν™•μ¥μ„±`  
  νΈλν”½μ΄ κΈ‰μ¦ν•λ©΄ μ„λ²„λ¥Ό μ¶”κ°€ν•κΈ°λ§ ν•λ©΄ λκ³ , λ΅λ“ λ°Έλ°μ„λ” μλ™μΌλ΅ μƒλ΅μ΄ μ„λ²„κΉμ§€ νΈλν”½μ„ λ¶„μ‚°ν•λ‹¤.
- `μ„±λ¥`  
  ν•λ‚μ μ„λ²„μ— λ¶€ν•κ°€ μ§‘μ¤‘λμ§€ μ•λ„λ΅ ν•μ—¬ κ° μ„λ²„κ°€ μ•μ •μ μΌλ΅ νΈλν”½μ„ μ²λ¦¬ν•  μ μμ–΄ μ‘λ‹µ μ†λ„μ™€ μ‹μ¤ν… μ•μ •μ„±μ΄ ν–¥μƒλλ‹¤.
- `λ³΄μ•`    
  λ΅λ“ λ°Έλ°μ„μ— λ³΄μ• κΈ°λ¥μ΄ λ‚΄μ¥λμ–΄ μμ–΄ λ””λ„μ¤ κ³µκ²©μ„ μ²λ¦¬ν•λ” λ° μ μ©ν•λ‹¤.  
  μ΄μ™Έμ—λ„ νΈλν”½μ„ λ¨λ‹ν„°λ§ν•κ³  μ•…μ„± μ½ν…μΈ λ¥Ό μ°¨λ‹¨ν•κ±°λ‚, κ³µκ²© νΈλν”½μ„ μ—¬λ¬ λ°±μ—”λ“ μ„λ²„λ΅ μλ™ λ¦¬λ””λ ‰μ…ν•μ—¬ μν–¥μ„ μµμ†ν™”ν•  μ μλ‹¤.

## πƒ λ΅λ“ λ°Έλ°μ‹±μ μ‘λ™
1. ν΄λΌμ΄μ–ΈνΈλ” λ΅λ“ λ°Έλ°μ„μ `κ³µμΈ IP μ£Όμ†`λ΅ μ”μ²­μ„ λ³΄λ‚Έλ‹¤.  
2. λ΅λ“ λ°Έλ°μ„λ” λ‚΄λ¶€μ— μλ” μ›Ή μ„λ²„λ“¤ μ¤‘ ν•λ‚λ¥Ό μ„ νƒν•΄ μ”μ²­μ„ μ „λ‹¬ν•λ‹¤. μ΄λ• λ‚΄λ¶€μ μΌλ΅ `μ‚¬μ„¤ IP μ£Όμ†`λ¥Ό μ΄μ©ν•΄ ν†µμ‹ ν•λ‹¤. 
3. μ›Ή μ„λ²„λ” μ‘λ‹µμ„ λ΅λ“ λ°Έλ°μ„λ΅ λ‹¤μ‹ λ³΄λ‚΄κ³ , λ΅λ“ λ°Έλ°μ„λ” ν΄λΌμ΄μ–ΈνΈμ—κ² μ‘λ‹µμ„ μ „λ‹¬ν•λ‹¤.  

π“ μ‹¤μ  ν΄λΌμ΄μ–ΈνΈλ” μ›Ή μ„λ²„λ“¤κ³Ό μ§μ ‘ ν†µμ‹ ν•μ§€ μ•μΌλ©°, λ³΄μ•μ„±κ³Ό κ΄€λ¦¬ νΈμμ„±λ„ ν–¥μƒλλ‹¤.
![Flow](images/Flow.png)

## π“¤ λ΅λ“ λ°Έλ°μ‹± μ•κ³ λ¦¬μ¦
λ΅λ“ λ°Έλ°μ‹± μ•κ³ λ¦¬μ¦μ€ λ΅λ“ λ°Έλ°μ„κ°€ ν΄λΌμ΄μ–ΈνΈ μ”μ²­μ— κ°€μ¥ μ ν•©ν• μ„λ²„λ¥Ό κ²°μ •ν•κΈ° μ„ν•΄ λ”°λ¥΄λ” κ·μΉ™ μ§‘ν•©μ΄λ‹¤.  
λ΅λ“ λ°Έλ°μ‹± μ•κ³ λ¦¬μ¦μ€ `μ„λ²„μ ν„μ¬ μƒνƒλ¥Ό κ³ λ ¤ν•λ”μ§€`μ— λ”°λΌ `μ •μ  λ΅λ“ λ°Έλ°μ‹±`κ³Ό `λ™μ  λ΅λ“ λ°Έλ°μ‹±`μΌλ΅ λ¶„λ¥ν•  μ μλ‹¤.

### π§ μ •μ  λ΅λ“ λ°Έλ°μ‹± μ•κ³ λ¦¬μ¦
μ •μ  λ΅λ“ λ°Έλ°μ‹± μ•κ³ λ¦¬μ¦μ€ κ³ μ •λ κ·μΉ™μ„ λ”°λ¥΄λ©° ν„μ¬ μ„λ²„ μƒνƒμ™€ λ¬΄κ΄€ν•λ‹¤.  
μμ‹λ΅λ” Round Robin, Random, IP Hash λ“±μ΄ μλ‹¤.

| Round Robin                           | Random                           | IP Hash                             |
|:--------------------------------------|:---------------------------------|:------------------------------------|
| μ”μ²­μ„ κ° μ„λ²„μ— μμ„λ€λ΅ λ¶„λ°°                     | μ”μ²­μ„ μ²λ¦¬ν•  μ„λ²„λ¥Ό λ¬΄μ‘μ„λ΅ μ„ νƒ              | ν΄λΌμ΄μ–ΈνΈ IPλ¥Ό ν•΄μ‹±ν•΄ νΉμ • μ„λ²„μ— κ³ μ •λλ„λ΅ μ”μ²­ λ¶„λ°°    |
| κµ¬ν„μ΄ κ°„λ‹¨ν•μ§€λ§ μ„λΉ„μ¤λ¥Ό μµμ μΌλ΅ ν™μ©ν•μ§€ λ»ν•  μ μμ      | κµ¬ν„μ΄ κ°„λ‹¨ν•μ§€λ§ μ„λΉ„μ¤λ¥Ό μµμ μΌλ΅ ν™μ©ν•μ§€ λ»ν•  μ μμ | μ„λ²„ κ³ μ •μ„±μ΄ μ¤‘μ”ν•  λ• μ μ©ν•μ§€λ§ μ¥μ• μ— λ€ν• λ‚΄κ²°ν•¨μ„±μ΄ λ‚®μ |
| ![Round Robin](images/RoundRobin.png) | ![Random](images/Random.png)     | ![IP Hash](images/IPHash.png)       |

### π”„ λ™μ  λ΅λ“ λ°Έλ°μ‹± μ•κ³ λ¦¬μ¦
λ™μ  λ΅λ“ λ°Έλ°μ‹± μ•κ³ λ¦¬μ¦μ€ νΈλν”½μ„ λ°°ν¬ν•κΈ° μ „μ— μ„λ²„μ ν„μ¬ μƒνƒλ¥Ό κ²€μ‚¬ν•λ‹¤.   
μμ‹λ΅λ” Least Connections, Weighted Metric λ“±μ΄ μλ‹¤.

| Least Connections                                 | Weighted Metric                                          |
|:--------------------------------------------------|:---------------------------------------------------------|
| ν„μ¬ μ»¤λ„¥μ… μκ°€ κ°€μ¥ μ μ€ μ„λ²„μ— μ”μ²­ ν• λ‹Ή                         | μ„λ²„μ λ¶€ν•μ™€ κ΄€λ ¨λ λ©”νΈλ¦­(CPU, λ©”λ¨λ¦¬ μ‚¬μ©λ‰ λ“±)μ„ μμ§‘ν•κ³  κ°€μ¤‘μΉλ¥Ό κ³„μ‚°ν•΄ μµμ μ μ„λ²„ μ„ νƒ |
| μΌλ°μ μΌλ΅ μ„λΉ„μ¤ ν™μ©λ„λ¥Ό λ” μµμ ν™”ν•μ§€λ§ κµ¬ν„μ΄ λ³µμ΅ν•¨                   | μΌλ°μ μΌλ΅ μ„λΉ„μ¤ ν™μ©λ„λ¥Ό λ” μµμ ν™”ν•μ§€λ§ κµ¬ν„μ΄ λ³µμ΅ν•¨                          |
| ![Least Connections](images/LeastConnections.png) | ![Weighted Metric](images/WeightedMetric.png)            |

---

# π”— μ°Έκ³  μλ£
- [AWS - λ΅λ“ λ°Έλ°μ‹±μ΄λ€ λ¬΄μ—‡μΈκ°€μ”?](https://aws.amazon.com/ko/what-is/load-balancing/)
- [Baeldung - How Does a Load Balancer Work?](https://www.baeldung.com/cs/load-balancer)
- [Baeldung - Introduction to Spring Cloud Load Balancer](https://www.baeldung.com/spring-cloud-load-balancer)
- μ΄μ¤€ν•, γ€μ΄κ²ƒμ΄ μ·¨μ—…μ„ μ„ν• λ°±μ—”λ“ κ°λ°μ΄λ‹¤ with μλ°”γ€, ν•λΉ›λ―Έλ””μ–΄(2024)
- μ•λ ‰μ¤ μ‰¬, γ€κ°€μƒ λ©΄μ ‘ μ‚¬λ΅€λ΅ λ°°μ°λ” λ€κ·λ¨ μ‹μ¤ν… μ„¤κ³„ κΈ°μ΄γ€, μΈμ‚¬μ΄νΈ(2021)